<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Connect: Ota Unicast Bootloader Server Plugin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Connect
   &#160;<span id="projectnumber">Silicon Labs</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__ota__unicast__bootloader__server.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Ota Unicast Bootloader Server Plugin<div class="ingroups"><a class="el" href="group__silabs__connect__af.html">Connect Application Framework API Reference</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Macros and APIs for ota-unicast-bootloader server.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa89b98af8684ebff0614049ef6a7b282"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__server.html#gaa89b98af8684ebff0614049ef6a7b282">EMBER_AF_PLUGIN_OTA_UNICAST_BOOTLOADER_SERVER_MAX_STACK_ERRORS</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:gaa89b98af8684ebff0614049ef6a7b282"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of consecutive stack message submission errors or stack related errors such as CSMA failures after which the plugin gives up.  <a href="#gaa89b98af8684ebff0614049ef6a7b282">More...</a><br /></td></tr>
<tr class="separator:gaa89b98af8684ebff0614049ef6a7b282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebe02fe6ce1f95032ba1af5f406156ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__server.html#gaebe02fe6ce1f95032ba1af5f406156ba">EMBER_AF_PLUGIN_OTA_UNICAST_BOOTLOADER_SERVER_MAX_UNICAST_ERRORS</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:gaebe02fe6ce1f95032ba1af5f406156ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of consecutive unicast attempts after which a target is declared unreachable. Legal values for this are in the [0,7] range.  <a href="#gaebe02fe6ce1f95032ba1af5f406156ba">More...</a><br /></td></tr>
<tr class="separator:gaebe02fe6ce1f95032ba1af5f406156ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga970baa54d74b4a76387471db8eb1ad88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__server.html#ga970baa54d74b4a76387471db8eb1ad88">EMBER_AF_PLUGIN_OTA_UNICAST_BOOTLOADER_SERVER_RESPONSE_TIMEOUT_MS</a>&#160;&#160;&#160;250</td></tr>
<tr class="memdesc:ga970baa54d74b4a76387471db8eb1ad88"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time in milliseconds after which the server gives up waiting for a response from a client.  <a href="#ga970baa54d74b4a76387471db8eb1ad88">More...</a><br /></td></tr>
<tr class="separator:ga970baa54d74b4a76387471db8eb1ad88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae777bbab5a7a1c5b66af031b0d6407a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__server.html#gae777bbab5a7a1c5b66af031b0d6407a8">emberAfPluginOtaUnicastBootloaderServerInitiateImageDistribution</a> (<a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> targetId, uint32_t imageSize, uint8_t imageTag)</td></tr>
<tr class="memdesc:gae777bbab5a7a1c5b66af031b0d6407a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate the image distribution process.  <a href="#gae777bbab5a7a1c5b66af031b0d6407a8">More...</a><br /></td></tr>
<tr class="separator:gae777bbab5a7a1c5b66af031b0d6407a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff3391f88e9316086a3f0cb7f2afc513"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__server.html#gaff3391f88e9316086a3f0cb7f2afc513">emberAfPluginOtaUnicastBootloaderServerGetImageSegmentCallback</a> (uint32_t startIndex, uint32_t endIndex, uint8_t imageTag, uint8_t *imageSegment)</td></tr>
<tr class="memdesc:gaff3391f88e9316086a3f0cb7f2afc513"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback invoked during an image distribution process to retrieve a contiguous segment of the image being distributed.  <a href="#gaff3391f88e9316086a3f0cb7f2afc513">More...</a><br /></td></tr>
<tr class="separator:gaff3391f88e9316086a3f0cb7f2afc513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb230c32bce77eed43dc128043c3b029"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__server.html#gacb230c32bce77eed43dc128043c3b029">emberAfPluginOtaUnicastBootloaderServerImageDistributionCompleteCallback</a> (<a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a> status)</td></tr>
<tr class="memdesc:gacb230c32bce77eed43dc128043c3b029"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback invoked when the image distribution process is terminated.  <a href="#gacb230c32bce77eed43dc128043c3b029">More...</a><br /></td></tr>
<tr class="separator:gacb230c32bce77eed43dc128043c3b029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2791dde886efde944342363d2f0c521a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__server.html#ga2791dde886efde944342363d2f0c521a">emberAfPluginUnicastBootloaderServerInitiateRequestTargetBootload</a> (uint32_t bootloadDelayMs, uint8_t imageTag, <a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> targetId)</td></tr>
<tr class="memdesc:ga2791dde886efde944342363d2f0c521a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a target device to initiate the bootload of a received image at some point in the future.  <a href="#ga2791dde886efde944342363d2f0c521a">More...</a><br /></td></tr>
<tr class="separator:ga2791dde886efde944342363d2f0c521a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga891463f93cfb7033ceb45882948e3ade"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__server.html#ga891463f93cfb7033ceb45882948e3ade">emberAfPluginOtaUnicastBootloaderServerAbortCurrentProcess</a> (void)</td></tr>
<tr class="memdesc:ga891463f93cfb7033ceb45882948e3ade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort the ongoing process, such as image distribution or bootload request.  <a href="#ga891463f93cfb7033ceb45882948e3ade">More...</a><br /></td></tr>
<tr class="separator:ga891463f93cfb7033ceb45882948e3ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7263e070f548d56f47ca94fc4f3f8fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__server.html#gab7263e070f548d56f47ca94fc4f3f8fe">emberAfPluginOtaUnicastBootloaderServerRequestTargetBootloadCompleteCallback</a> (<a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a> status)</td></tr>
<tr class="memdesc:gab7263e070f548d56f47ca94fc4f3f8fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback invoked when a bootload request process has completed.  <a href="#gab7263e070f548d56f47ca94fc4f3f8fe">More...</a><br /></td></tr>
<tr class="separator:gab7263e070f548d56f47ca94fc4f3f8fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Macros and APIs for ota-unicast-bootloader server. </p>
<p>OTA bootloading plugins are usable to send firmware images Over The Air when the application is running. When the firmware is downloaded to a device, a bootloader can be started to replace the application in the flash to the one just downloaded.</p>
<p>All Connect bootloader related code relies on the Gecko Bootloader for bootloading and it must be installed on the device for these plugins to work. For details on the Gecko Bootloader, see UG266.</p>
<p>The Unicast OTA plugins implement the OTA download operation in a unicast, addressed way, so only a single client can be addressed from a server in an OTA session, and downloading images to multiple devices will require the server to send the image multiple times. Communication relies on standard unicast data messages, which also means that the routing provided by the Connect stack is availble.</p>
<p>Although bootloading sleepy end devices is theoretically possible with polling, it is not very effective, and it's probably simpler to reconnect as a normal end device while the OTA is active.</p>
<p>Unicast OTA uses a plugin configurable endpoint, which is 13 by default.</p>
<p>Security can be also enabled as plugin configuration on the server, as well as the interval of the messages. The client has a timeout plugin configuration after which it stops the OTA session with an error.</p>
<p>See UG235.06 for further details.</p>
<dl class="section note"><dt>Note</dt><dd>OTA Unicast Bootloading plugins are not available in MAC mode due to the lack of endpoints.</dd></dl>
<p>See <a class="el" href="ota-unicast-bootloader-server_8h.html">ota-unicast-bootloader-server.h</a> and ota-unicast-bootloader-server.c for source code. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaa89b98af8684ebff0614049ef6a7b282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa89b98af8684ebff0614049ef6a7b282">&#9670;&nbsp;</a></span>EMBER_AF_PLUGIN_OTA_UNICAST_BOOTLOADER_SERVER_MAX_STACK_ERRORS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMBER_AF_PLUGIN_OTA_UNICAST_BOOTLOADER_SERVER_MAX_STACK_ERRORS&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of consecutive stack message submission errors or stack related errors such as CSMA failures after which the plugin gives up. </p>

<p class="definition">Definition at line <a class="el" href="ota-unicast-bootloader-server_8h_source.html#l00038">38</a> of file <a class="el" href="ota-unicast-bootloader-server_8h_source.html">ota-unicast-bootloader-server.h</a>.</p>

</div>
</div>
<a id="gaebe02fe6ce1f95032ba1af5f406156ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaebe02fe6ce1f95032ba1af5f406156ba">&#9670;&nbsp;</a></span>EMBER_AF_PLUGIN_OTA_UNICAST_BOOTLOADER_SERVER_MAX_UNICAST_ERRORS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMBER_AF_PLUGIN_OTA_UNICAST_BOOTLOADER_SERVER_MAX_UNICAST_ERRORS&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of consecutive unicast attempts after which a target is declared unreachable. Legal values for this are in the [0,7] range. </p>

<p class="definition">Definition at line <a class="el" href="ota-unicast-bootloader-server_8h_source.html#l00044">44</a> of file <a class="el" href="ota-unicast-bootloader-server_8h_source.html">ota-unicast-bootloader-server.h</a>.</p>

</div>
</div>
<a id="ga970baa54d74b4a76387471db8eb1ad88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga970baa54d74b4a76387471db8eb1ad88">&#9670;&nbsp;</a></span>EMBER_AF_PLUGIN_OTA_UNICAST_BOOTLOADER_SERVER_RESPONSE_TIMEOUT_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMBER_AF_PLUGIN_OTA_UNICAST_BOOTLOADER_SERVER_RESPONSE_TIMEOUT_MS&#160;&#160;&#160;250</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The time in milliseconds after which the server gives up waiting for a response from a client. </p>

<p class="definition">Definition at line <a class="el" href="ota-unicast-bootloader-server_8h_source.html#l00050">50</a> of file <a class="el" href="ota-unicast-bootloader-server_8h_source.html">ota-unicast-bootloader-server.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga891463f93cfb7033ceb45882948e3ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga891463f93cfb7033ceb45882948e3ade">&#9670;&nbsp;</a></span>emberAfPluginOtaUnicastBootloaderServerAbortCurrentProcess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a> emberAfPluginOtaUnicastBootloaderServerAbortCurrentProcess </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort the ongoing process, such as image distribution or bootload request. </p>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006" title="OTA Unicast Bootloader return status codes. ">EmberAfOtaUnicastBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006ae369abb8cfbab769ed49e3f293f157ed">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_SUCCESS</a> if the current ongoing process was successfully aborted.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a802c9b5d12dc393b7639be4f959fa992">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_INVALID_CALL</a> if the server is not currently involved in any process. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaff3391f88e9316086a3f0cb7f2afc513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff3391f88e9316086a3f0cb7f2afc513">&#9670;&nbsp;</a></span>emberAfPluginOtaUnicastBootloaderServerGetImageSegmentCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool emberAfPluginOtaUnicastBootloaderServerGetImageSegmentCallback </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>startIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>endIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>imageSegment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked during an image distribution process to retrieve a contiguous segment of the image being distributed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">startIndex</td><td>The index of the first byte the application should copy into the passed array.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">endIndex</td><td>The index of the last byte the application should copy into the passed array.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageTag</td><td>A 1-byte tag of the image for which a segment is requested.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">imageSegment</td><td>An array of (endIndex - startIndex + 1) length to which the application should copy the requested image segment.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A boolean indicating whether the application successfully copied the requested bytes into the passed array. If the application returns <b>false</b>, the server will abort the ongoing distribution process. </dd></dl>

</div>
</div>
<a id="gacb230c32bce77eed43dc128043c3b029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb230c32bce77eed43dc128043c3b029">&#9670;&nbsp;</a></span>emberAfPluginOtaUnicastBootloaderServerImageDistributionCompleteCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginOtaUnicastBootloaderServerImageDistributionCompleteCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked when the image distribution process is terminated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>An <a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006" title="OTA Unicast Bootloader return status codes. ">EmberAfOtaUnicastBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006ae369abb8cfbab769ed49e3f293f157ed">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_SUCCESS</a> if the target confirms that the full image is received.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006ab60782eecd5873c3b3760742bd02c694">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_DATA_UNDERFLOW</a> if the application failed to supply the requested image segments.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006aa0f46a2ceffb8061b657ce367ac8d5fc">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_STACK_ERROR</a> if the server encountered multiple consecutive transmission errors. The Server gives up the image distribution process if <a class="el" href="group__ota__unicast__bootloader__server.html#gaa89b98af8684ebff0614049ef6a7b282" title="The number of consecutive stack message submission errors or stack related errors such as CSMA failur...">EMBER_AF_PLUGIN_OTA_UNICAST_BOOTLOADER_SERVER_MAX_STACK_ERRORS</a> consecutive transmission errors are encountered.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a06f41537603db74740974002cc54b9ab">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_FAILED</a> if the distribution process terminated prematurely because the target can't be reached.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a9f5f87003072dc028d7d74869dd357be">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_UNREACHABLE</a> if the server can not establish communication with the target client.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a6aa4b278463a588ad80043771d0f633b">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_ABORTED</a> if the application aborted the current image distribution process.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006aef9679a032c3aeeb62d20e18096d6755">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_REFUSED</a> if the client refused the image. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae777bbab5a7a1c5b66af031b0d6407a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae777bbab5a7a1c5b66af031b0d6407a8">&#9670;&nbsp;</a></span>emberAfPluginOtaUnicastBootloaderServerInitiateImageDistribution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a> emberAfPluginOtaUnicastBootloaderServerInitiateImageDistribution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a>&#160;</td>
          <td class="paramname"><em>targetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>imageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate the image distribution process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">targetId</td><td>The node ID of the target.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageSize</td><td>The image size in bytes to be distributed.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageTag</td><td>A 1-byte tag that will be embedded in the server-to-client over-the-air messages. The application can use the image tag for versioning purposes and/or for distinguishing between different image types.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006" title="OTA Unicast Bootloader return status codes. ">EmberAfOtaUnicastBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a1619a75b93b526377380958ffa2906ff">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_BUSY</a> if an image distribution is already in progress</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a802c9b5d12dc393b7639be4f959fa992">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_INVALID_CALL</a> if the given target or the image size is invalid</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006ae369abb8cfbab769ed49e3f293f157ed">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_SUCCESS</a> if the image distribution was successfully initiated. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gab7263e070f548d56f47ca94fc4f3f8fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7263e070f548d56f47ca94fc4f3f8fe">&#9670;&nbsp;</a></span>emberAfPluginOtaUnicastBootloaderServerRequestTargetBootloadCompleteCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginOtaUnicastBootloaderServerRequestTargetBootloadCompleteCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked when a bootload request process has completed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>An <a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006" title="OTA Unicast Bootloader return status codes. ">EmberAfOtaUnicastBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006ae369abb8cfbab769ed49e3f293f157ed">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_SUCCESS</a> if the target has been requested to perform a bootload.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006aa0f46a2ceffb8061b657ce367ac8d5fc">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_STACK_ERROR</a> if the server encountered multiple consecutive transmission errors. The Server gives up the bootload request process if <a class="el" href="group__ota__unicast__bootloader__server.html#gaa89b98af8684ebff0614049ef6a7b282" title="The number of consecutive stack message submission errors or stack related errors such as CSMA failur...">EMBER_AF_PLUGIN_OTA_UNICAST_BOOTLOADER_SERVER_MAX_STACK_ERRORS</a> consecutive transmission errors are encountered.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a6aa4b278463a588ad80043771d0f633b">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_ABORTED</a> if the application aborted the current bootload request process.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a9f5f87003072dc028d7d74869dd357be">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_UNREACHABLE</a> if the server can not establish communication with the target client. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2791dde886efde944342363d2f0c521a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2791dde886efde944342363d2f0c521a">&#9670;&nbsp;</a></span>emberAfPluginUnicastBootloaderServerInitiateRequestTargetBootload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a> emberAfPluginUnicastBootloaderServerInitiateRequestTargetBootload </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bootloadDelayMs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a>&#160;</td>
          <td class="paramname"><em>targetId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request a target device to initiate the bootload of a received image at some point in the future. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bootloadDelayMs</td><td>The delay in milliseconds after which the target should perform an image bootload.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageTag</td><td>A 1-byte tag that identifies the image to be bootloaded at the target device.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetId</td><td>The node ID of the target.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006" title="OTA Unicast Bootloader return status codes. ">EmberAfOtaUnicastBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006ae369abb8cfbab769ed49e3f293f157ed">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_SUCCESS</a> if the plugin successfully started the process to request a target and initiate a bootload. If this is the case, the corresponding callback <a class="el" href="group__ota__unicast__bootloader__server.html#gab7263e070f548d56f47ca94fc4f3f8fe" title="A callback invoked when a bootload request process has completed. ">emberAfPluginOtaUnicastBootloaderServerRequestTargetBootloadCompleteCallback()</a> is invoked when the request process is completed.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a802c9b5d12dc393b7639be4f959fa992">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_INVALID_CALL</a> if some of the passed parameters are invalid.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a1619a75b93b526377380958ffa2906ff">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_BUSY</a> if the server is currently involved in another over-the-air process. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
