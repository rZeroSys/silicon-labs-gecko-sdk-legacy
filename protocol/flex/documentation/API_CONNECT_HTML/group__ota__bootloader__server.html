<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Connect: Ota Broadcast Bootloader Server Plugin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Connect
   &#160;<span id="projectnumber">Silicon Labs</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__ota__bootloader__server.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Ota Broadcast Bootloader Server Plugin<div class="ingroups"><a class="el" href="group__silabs__connect__af.html">Connect Application Framework API Reference</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Set of APIs for ota-broadcast-bootloader-server.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga8992ee92adc065b796b03303b355dad0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#ga8992ee92adc065b796b03303b355dad0">EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_STACK_ERRORS</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:ga8992ee92adc065b796b03303b355dad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of consecutive stack message submission errors or stack-related errors, such as CSMA failures, after which the plugin gives up.  <a href="#ga8992ee92adc065b796b03303b355dad0">More...</a><br /></td></tr>
<tr class="separator:ga8992ee92adc065b796b03303b355dad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad484f58ee8de6007f251fdc8fd023b2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#gad484f58ee8de6007f251fdc8fd023b2e">EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_UNICAST_ERRORS</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:gad484f58ee8de6007f251fdc8fd023b2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of consecutive unicast attempts after which a target is declared unreachable. Legal values for this are in the [0,7] range.  <a href="#gad484f58ee8de6007f251fdc8fd023b2e">More...</a><br /></td></tr>
<tr class="separator:gad484f58ee8de6007f251fdc8fd023b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c4f30514b105f13372e324fe5d284a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#ga2c4f30514b105f13372e324fe5d284a7">EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_RESPONSE_TIMEOUT_MS</a>&#160;&#160;&#160;250</td></tr>
<tr class="memdesc:ga2c4f30514b105f13372e324fe5d284a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time in milliseconds after which the server gives up waiting for a response from a client.  <a href="#ga2c4f30514b105f13372e324fe5d284a7">More...</a><br /></td></tr>
<tr class="separator:ga2c4f30514b105f13372e324fe5d284a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga006702d2a9934d15b6c76e36de90b470"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#ga006702d2a9934d15b6c76e36de90b470">EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_BROADCAST_ROUNDS</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:ga006702d2a9934d15b6c76e36de90b470"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of image broadcast rounds the server performs before declaring an image distribution process failed.  <a href="#ga006702d2a9934d15b6c76e36de90b470">More...</a><br /></td></tr>
<tr class="separator:ga006702d2a9934d15b6c76e36de90b470"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga023947df221361a377a35df4f7c6c372"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#ga023947df221361a377a35df4f7c6c372">emberAfPluginOtaBootloaderServerInitiateImageDistribution</a> (uint32_t imageSize, uint8_t imageTag, <a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *targetList, uint16_t targetListLength)</td></tr>
<tr class="memdesc:ga023947df221361a377a35df4f7c6c372"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate the image distribution process. The application can use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API at any time during the image distribution process to check the status of each target.  <a href="#ga023947df221361a377a35df4f7c6c372">More...</a><br /></td></tr>
<tr class="separator:ga023947df221361a377a35df4f7c6c372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7eb09858fa6eb3a983950655d6f42835"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#ga7eb09858fa6eb3a983950655d6f42835">emberAfPluginBootloaderServerInitiateRequestTargetsStatus</a> (<a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *targetList, uint16_t targetListLength, uint8_t applicationServerStatus)</td></tr>
<tr class="memdesc:ga7eb09858fa6eb3a983950655d6f42835"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate the process to request the status of a set of target devices. The application can use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API at any time during the target status request process to check the status of each target.  <a href="#ga7eb09858fa6eb3a983950655d6f42835">More...</a><br /></td></tr>
<tr class="separator:ga7eb09858fa6eb3a983950655d6f42835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaafba2878d19ccaf300c8576b5604d71c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#gaafba2878d19ccaf300c8576b5604d71c">emberAfPluginBootloaderServerInitiateRequestTargetsBootload</a> (uint32_t bootloadDelayMs, uint8_t imageTag, <a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *targetList, uint16_t targetListLength)</td></tr>
<tr class="memdesc:gaafba2878d19ccaf300c8576b5604d71c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the process where a server requests a set of target devices to initiate the bootload of a received image at some point in the future. The application can use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API at any time during the bootload request process to check the status of each target.  <a href="#gaafba2878d19ccaf300c8576b5604d71c">More...</a><br /></td></tr>
<tr class="separator:gaafba2878d19ccaf300c8576b5604d71c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83bad82e6c7594384111b6d5a4033654"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__bootloader__common.html#ga118e60a6d284c13b8db7f7e950814402">EmberAfOtaBootloaderTargetStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654">emberAfPluginBootloaderServerGetTargetStatus</a> (<a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> targetId, uint8_t *applicationTargetStatus)</td></tr>
<tr class="memdesc:ga83bad82e6c7594384111b6d5a4033654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling <a class="el" href="group__ota__bootloader__server.html#ga7eb09858fa6eb3a983950655d6f42835">emberAfPluginBootloaderServerInitiateRequestTargetsStatus()</a>.  <a href="#ga83bad82e6c7594384111b6d5a4033654">More...</a><br /></td></tr>
<tr class="separator:ga83bad82e6c7594384111b6d5a4033654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59adabec04340391bffc7bc42338b827"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#ga59adabec04340391bffc7bc42338b827">emberAfPluginOtaBootloaderServerAbortCurrentProcess</a> (void)</td></tr>
<tr class="memdesc:ga59adabec04340391bffc7bc42338b827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort the ongoing process (image distribution, status request or bootload request). Note that aborting a bootload request process likely results in some targets performing the bootload while some others do not.  <a href="#ga59adabec04340391bffc7bc42338b827">More...</a><br /></td></tr>
<tr class="separator:ga59adabec04340391bffc7bc42338b827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8729e38e9b7958d475a9feaa59198e65"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#ga8729e38e9b7958d475a9feaa59198e65">emberAfPluginOtaBootloaderServerGetImageSegmentCallback</a> (uint32_t startIndex, uint32_t endIndex, uint8_t imageTag, uint8_t *imageSegment)</td></tr>
<tr class="memdesc:ga8729e38e9b7958d475a9feaa59198e65"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback invoked on the OTA Bootloader Server during an image distribution process to retrieve a contiguous segment of the image being distributed.  <a href="#ga8729e38e9b7958d475a9feaa59198e65">More...</a><br /></td></tr>
<tr class="separator:ga8729e38e9b7958d475a9feaa59198e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga708f7a80391ec05ba32c3870e5e619fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#ga708f7a80391ec05ba32c3870e5e619fa">emberAfPluginOtaBootloaderServerImageDistributionCompleteCallback</a> (<a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> status)</td></tr>
<tr class="memdesc:ga708f7a80391ec05ba32c3870e5e619fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback invoked on the OTA Bootloader Server when the image distribution process is terminated. The application can use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API to retrieve the status reported by each target device.  <a href="#ga708f7a80391ec05ba32c3870e5e619fa">More...</a><br /></td></tr>
<tr class="separator:ga708f7a80391ec05ba32c3870e5e619fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36e09f8f976e676ccdecc40adda5f2e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#ga36e09f8f976e676ccdecc40adda5f2e5">emberAfPluginBootloaderServerRequestTargetsStatusCompleteCallback</a> (<a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> status)</td></tr>
<tr class="memdesc:ga36e09f8f976e676ccdecc40adda5f2e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback invoked on the OTA Bootloader Server when bootload request process has completed. Within this callback, the application should use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API to retrieve the status and application status reported by each target.  <a href="#ga36e09f8f976e676ccdecc40adda5f2e5">More...</a><br /></td></tr>
<tr class="separator:ga36e09f8f976e676ccdecc40adda5f2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67154ca11a7ba27ebaaf3fc9ff8149cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.html#ga67154ca11a7ba27ebaaf3fc9ff8149cb">emberAfPluginBootloaderServerRequestTargetsBootloadCompleteCallback</a> (<a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> status)</td></tr>
<tr class="memdesc:ga67154ca11a7ba27ebaaf3fc9ff8149cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback invoked on the OTA Bootloader Server when a bootload request process has completed. Within this callback, the application should use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API to retrieve the status and the application status reported by each target.  <a href="#ga67154ca11a7ba27ebaaf3fc9ff8149cb">More...</a><br /></td></tr>
<tr class="separator:ga67154ca11a7ba27ebaaf3fc9ff8149cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Set of APIs for ota-broadcast-bootloader-server. </p>
<p>OTA bootloading plugins are usable to send firmware images Over The Air when the application is running. When the firmware is downloaded to a device, a bootloader can be started to replace the application in the flash to the one just downloaded.</p>
<p>All Connect bootloader related code relies on the Gecko Bootloader for bootloading and it must be installed on the device for these plugins to work. For details on the Gecko Bootloader, see UG266.</p>
<p>The Broadcast OTA plugins implement the OTA download operation in broadcast, so the same image can be sent to many devices at the same time. The server however requires to know the clients downloading the image, because it implements error handling by querying all clients for missing segments, and then the server will re-broadcast those segments.</p>
<p>Communication relies on standard broadcast data messages, which means routing is not available, and only clients that are in the range of the server can download. However, the same device can be both client and server, i.e. after downloading the image, a client can configure itself to be a server, and provide the image to another part of the network.</p>
<p>Sleepy end devices cannot be addressed in broadcast, but a sleepy end device can reconnect as a normal end device while the OTA is active.</p>
<p>Broadcast OTA uses a plugin configurable endpoint, which is 14 by default.</p>
<p>Security can be also enabled as plugin configuration on the server, as well as the interval of the messages. The client has a timeout plugin configuration after which it stops the OTA session with an error.</p>
<p>See UG235.06 for further details.</p>
<dl class="section note"><dt>Note</dt><dd>OTA Broadcast Bootloading plugins are not available in MAC mode due to the lack of endpoints.</dd></dl>
<p>See <a class="el" href="ota-broadcast-bootloader-server_8h.html">ota-broadcast-bootloader-server.h</a> and ota-broadcast-bootloader-server.c for source code. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga006702d2a9934d15b6c76e36de90b470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga006702d2a9934d15b6c76e36de90b470">&#9670;&nbsp;</a></span>EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_BROADCAST_ROUNDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_BROADCAST_ROUNDS&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum number of image broadcast rounds the server performs before declaring an image distribution process failed. </p>

<p class="definition">Definition at line <a class="el" href="ota-broadcast-bootloader-server_8h_source.html#l00056">56</a> of file <a class="el" href="ota-broadcast-bootloader-server_8h_source.html">ota-broadcast-bootloader-server.h</a>.</p>

</div>
</div>
<a id="ga8992ee92adc065b796b03303b355dad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8992ee92adc065b796b03303b355dad0">&#9670;&nbsp;</a></span>EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_STACK_ERRORS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_STACK_ERRORS&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of consecutive stack message submission errors or stack-related errors, such as CSMA failures, after which the plugin gives up. </p>

<p class="definition">Definition at line <a class="el" href="ota-broadcast-bootloader-server_8h_source.html#l00038">38</a> of file <a class="el" href="ota-broadcast-bootloader-server_8h_source.html">ota-broadcast-bootloader-server.h</a>.</p>

</div>
</div>
<a id="gad484f58ee8de6007f251fdc8fd023b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad484f58ee8de6007f251fdc8fd023b2e">&#9670;&nbsp;</a></span>EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_UNICAST_ERRORS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_UNICAST_ERRORS&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of consecutive unicast attempts after which a target is declared unreachable. Legal values for this are in the [0,7] range. </p>

<p class="definition">Definition at line <a class="el" href="ota-broadcast-bootloader-server_8h_source.html#l00044">44</a> of file <a class="el" href="ota-broadcast-bootloader-server_8h_source.html">ota-broadcast-bootloader-server.h</a>.</p>

</div>
</div>
<a id="ga2c4f30514b105f13372e324fe5d284a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c4f30514b105f13372e324fe5d284a7">&#9670;&nbsp;</a></span>EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_RESPONSE_TIMEOUT_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_RESPONSE_TIMEOUT_MS&#160;&#160;&#160;250</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The time in milliseconds after which the server gives up waiting for a response from a client. </p>

<p class="definition">Definition at line <a class="el" href="ota-broadcast-bootloader-server_8h_source.html#l00050">50</a> of file <a class="el" href="ota-broadcast-bootloader-server_8h_source.html">ota-broadcast-bootloader-server.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga83bad82e6c7594384111b6d5a4033654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83bad82e6c7594384111b6d5a4033654">&#9670;&nbsp;</a></span>emberAfPluginBootloaderServerGetTargetStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__bootloader__common.html#ga118e60a6d284c13b8db7f7e950814402">EmberAfOtaBootloaderTargetStatus</a> emberAfPluginBootloaderServerGetTargetStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a>&#160;</td>
          <td class="paramname"><em>targetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>applicationTargetStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling <a class="el" href="group__ota__bootloader__server.html#ga7eb09858fa6eb3a983950655d6f42835">emberAfPluginBootloaderServerInitiateRequestTargetsStatus()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">targetId</td><td>The node ID of the target device whose status is being requested.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">applicationTargetStatus</td><td>The application status reported by the client side application. This parameter is valid only for certain return status codes (see return status documentation).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__bootloader__common.html#ga118e60a6d284c13b8db7f7e950814402" title="OTA Broadcast Bootloader target status codes, returned by emberAfPluginBootloaderServerGetTargetStatu...">EmberAfOtaBootloaderTargetStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402a1ded06e503c65ea152c51ac7cc8a43d8">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_INVALID</a> if the passed node ID does not appear in the current server target list of the current ongoing process or if there is no current ongoing process.</li>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402a9024e2ca2a19b1439f3a08b10d6766f6">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_UNREACHABLE</a> if the target has not responded to any of the server's unicast messages.</li>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402a37e0cabe5213a2cf9fff6293032f2b3b">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_DISTRIBUTION_COMPLETED</a> if the server is currently performing an image distribution process and the target confirmed that it received the full image.</li>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402a33725a404f8cdd34e286b43364014776">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_DISTRIBUTION_ONGOING</a> if the server is currently performing an image distribution process and the target has partially received the image and distribution is continuing.</li>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402a0400fc28a3bd4ce1f903f7142e8df7b3">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_DISTRIBUTION_REFUSED</a> if the target has refused the current image.</li>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402a062351490b3dd6f739b4a1d839cca862">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_DISTRIBUTION_FAILED</a> if the server is currently performing an image distribution process and the target reported that an error was encountered.</li>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402af72ff9ad8ba9a74c7cb0b589c1e4c92a">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_DISTRIBUTION_ABORTED</a> if the server is currently performing an image distribution process and the target decided to abort the image download process. In this case, the client also reports an application status. Therefore, the applicationTargetStatus parameter is valid.</li>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402af91530bf2ee07941fa7ee60cc4fa0475">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_STATUS_REQUEST_COMPLETED</a> if the server is currently performing a target status request process and the target has responded to the server's inquiry. In this case, the client also reports an application status. Therefore, the applicationTargetStatus parameter is valid.</li>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402a2ae12a4e81d410ca5e6336aef10a2e63">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_STATUS_REQUEST_ONGOING</a> if the server is currently performing a target status request process and the target is not yet queried by the server.</li>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402ad45df5a518f6742d4470ddeb1af09646">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_BOOTLOAD_REQUEST_ACCEPTED</a> if the server is currently performing a bootload request process and the target has accepted to perform the requested image bootload.</li>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402a9f48dcaff513e69f4d7ab09901d63038">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_BOOTLOAD_REQUEST_REFUSED</a> if the server is currently performing a bootload request process and the target has refused to perform the requested image bootload.</li>
<li><a class="el" href="group__ota__bootloader__common.html#gga118e60a6d284c13b8db7f7e950814402a99d60a226ac686df668e391585e760a9">EMBER_OTA_BROADCAST_BOOTLOADER_TARGET_STATUS_BOOTLOAD_REQUEST_ONGOING</a> if the server is currently performing a bootload request process and the target is not yet reached by the server. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaafba2878d19ccaf300c8576b5604d71c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaafba2878d19ccaf300c8576b5604d71c">&#9670;&nbsp;</a></span>emberAfPluginBootloaderServerInitiateRequestTargetsBootload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> emberAfPluginBootloaderServerInitiateRequestTargetsBootload </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bootloadDelayMs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *&#160;</td>
          <td class="paramname"><em>targetList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>targetListLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the process where a server requests a set of target devices to initiate the bootload of a received image at some point in the future. The application can use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API at any time during the bootload request process to check the status of each target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bootloadDelayMs</td><td>The delay in milliseconds after which all the targets should perform an image bootload.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageTag</td><td>A 1-byte tag that identifies the image to be bootloaded at the target devices.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetList</td><td>An array of <a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce" title="IEEE 802.15.4 node ID. Also known as short address. ">EmberNodeId</a> indicating the node IDs of the target devices that is requested to bootload an image.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetListLength</td><td>The length of the passed <code>targetlist</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b" title="OTA Broadcast Bootloader return status codes. ">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba2dcdf06668bf63d5d12c2e36fe883c98">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_SUCCESS</a> if the plugin successfully initiated the process of requesting a set of targets to initiate a bootload. If this is the case, the corresponding callback <a class="el" href="group__ota__bootloader__server.html#ga67154ca11a7ba27ebaaf3fc9ff8149cb" title="A callback invoked on the OTA Bootloader Server when a bootload request process has completed...">emberAfPluginBootloaderServerRequestTargetsBootloadCompleteCallback()</a> shall be invoked when the request process to all targets has completed.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9bafbd62ea9bfb27093f2a85d5a7e5a2585">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_INVALID_CALL</a> if some of the passed parameters are invalid.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9bac137e221ebaedef1a555dd7f3ee24852">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_BUSY</a> if the server is currently involved in another over-the-air process. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga7eb09858fa6eb3a983950655d6f42835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7eb09858fa6eb3a983950655d6f42835">&#9670;&nbsp;</a></span>emberAfPluginBootloaderServerInitiateRequestTargetsStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> emberAfPluginBootloaderServerInitiateRequestTargetsStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *&#160;</td>
          <td class="paramname"><em>targetList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>targetListLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>applicationServerStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate the process to request the status of a set of target devices. The application can use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API at any time during the target status request process to check the status of each target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">targetList</td><td>An array of <a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce" title="IEEE 802.15.4 node ID. Also known as short address. ">EmberNodeId</a> indicating the node IDs of the target devices that are queried for their status.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetListLength</td><td>The length of the passed <code>targetlist</code>.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">applicationServerStatus</td><td>The application can set a status here which will be sent to the clients in <a class="el" href="group__ota__bootloader__client.html#ga30aeb975c38bc1c9ff05110c59afe896">emberAfPluginOtaBootloaderClientIncomingRequestStatusCallback()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b" title="OTA Broadcast Bootloader return status codes. ">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba2dcdf06668bf63d5d12c2e36fe883c98">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_SUCCESS</a> if the plugin successfully initiated the process of requesting the status of a set of targets. If this is the case, the corresponding callback <a class="el" href="group__ota__bootloader__server.html#ga36e09f8f976e676ccdecc40adda5f2e5" title="A callback invoked on the OTA Bootloader Server when bootload request process has completed...">emberAfPluginBootloaderServerRequestTargetsStatusCompleteCallback()</a> is invoked when the request process to all targets completes.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9bafbd62ea9bfb27093f2a85d5a7e5a2585">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_INVALID_CALL</a> if some of the passed parameters are invalid.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9bac137e221ebaedef1a555dd7f3ee24852">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_BUSY</a> if the server is currently involved in another over-the-air process. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga67154ca11a7ba27ebaaf3fc9ff8149cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67154ca11a7ba27ebaaf3fc9ff8149cb">&#9670;&nbsp;</a></span>emberAfPluginBootloaderServerRequestTargetsBootloadCompleteCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginBootloaderServerRequestTargetsBootloadCompleteCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked on the OTA Bootloader Server when a bootload request process has completed. Within this callback, the application should use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API to retrieve the status and the application status reported by each target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>An <a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b" title="OTA Broadcast Bootloader return status codes. ">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba2dcdf06668bf63d5d12c2e36fe883c98">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_SUCCESS</a> if all targets have been requested to perform a bootload. Notice that some targets might have been declared unreachable.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba54967ffe7d638bd2d49b03dd761537d1">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_STACK_ERROR</a> if the server encountered multiple consecutive transmission errors. The Server gives up the bootload request process if <a class="el" href="group__ota__bootloader__server.html#ga8992ee92adc065b796b03303b355dad0" title="The number of consecutive stack message submission errors or stack-related errors, such as CSMA failures, after which the plugin gives up. ">EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_STACK_ERRORS</a> consecutive transmission errors are encountered.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba4cd3869dfb2dcce38ee4958cbfaeca44">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_ABORTED</a> if the application aborted the current bootload request process. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga36e09f8f976e676ccdecc40adda5f2e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36e09f8f976e676ccdecc40adda5f2e5">&#9670;&nbsp;</a></span>emberAfPluginBootloaderServerRequestTargetsStatusCompleteCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginBootloaderServerRequestTargetsStatusCompleteCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked on the OTA Bootloader Server when bootload request process has completed. Within this callback, the application should use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API to retrieve the status and application status reported by each target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>An <a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b" title="OTA Broadcast Bootloader return status codes. ">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba2dcdf06668bf63d5d12c2e36fe883c98">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_SUCCESS</a> if all the targets have been queried for their status. Notice that some targets might have been declared unreachable.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba54967ffe7d638bd2d49b03dd761537d1">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_STACK_ERROR</a> if the server encountered multiple consecutive transmission errors. The Server gives up the targets status request process if <a class="el" href="group__ota__bootloader__server.html#ga8992ee92adc065b796b03303b355dad0" title="The number of consecutive stack message submission errors or stack-related errors, such as CSMA failures, after which the plugin gives up. ">EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_STACK_ERRORS</a> consecutive transmission errors are encountered.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba4cd3869dfb2dcce38ee4958cbfaeca44">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_ABORTED</a> if the application aborted the current targets status request process. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga59adabec04340391bffc7bc42338b827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59adabec04340391bffc7bc42338b827">&#9670;&nbsp;</a></span>emberAfPluginOtaBootloaderServerAbortCurrentProcess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> emberAfPluginOtaBootloaderServerAbortCurrentProcess </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort the ongoing process (image distribution, status request or bootload request). Note that aborting a bootload request process likely results in some targets performing the bootload while some others do not. </p>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b" title="OTA Broadcast Bootloader return status codes. ">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba2dcdf06668bf63d5d12c2e36fe883c98">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_SUCCESS</a> if the current ongoing process was successfully aborted.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9bafbd62ea9bfb27093f2a85d5a7e5a2585">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_INVALID_CALL</a> if the server is not currently involved in any process. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga8729e38e9b7958d475a9feaa59198e65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8729e38e9b7958d475a9feaa59198e65">&#9670;&nbsp;</a></span>emberAfPluginOtaBootloaderServerGetImageSegmentCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool emberAfPluginOtaBootloaderServerGetImageSegmentCallback </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>startIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>endIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>imageSegment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked on the OTA Bootloader Server during an image distribution process to retrieve a contiguous segment of the image being distributed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">startIndex</td><td>The index of the first byte the application should copy into the passed array.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">endIndex</td><td>The index of the last byte the application should copy into the passed array.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageTag</td><td>A 1-byte tag of the image for which a segment is being requested.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">imageSegment</td><td>An array of (endIndex - startIndex + 1) length to which the application should copy the requested image segment.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A boolean indicating whether the application successfully copied the requested bytes into the passed array. If the application returns <b>false</b>, the OTA Server plugin aborts the ongoing distribution process. </dd></dl>

</div>
</div>
<a id="ga708f7a80391ec05ba32c3870e5e619fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga708f7a80391ec05ba32c3870e5e619fa">&#9670;&nbsp;</a></span>emberAfPluginOtaBootloaderServerImageDistributionCompleteCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginOtaBootloaderServerImageDistributionCompleteCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked on the OTA Bootloader Server when the image distribution process is terminated. The application can use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API to retrieve the status reported by each target device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>An <a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b" title="OTA Broadcast Bootloader return status codes. ">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba2dcdf06668bf63d5d12c2e36fe883c98">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_SUCCESS</a> if all targets have confirmed that the full image was received except for those that have been declared "unreachable".</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba9da6c625e1f181d9305cce423cadb0d5">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_DATA_UNDERFLOW</a> if the application failed to supply the requested image segments.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba54967ffe7d638bd2d49b03dd761537d1">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_STACK_ERROR</a> if the server encountered multiple consecutive transmission errors. The Server gives up the image distribution process if <a class="el" href="group__ota__bootloader__server.html#ga8992ee92adc065b796b03303b355dad0" title="The number of consecutive stack message submission errors or stack-related errors, such as CSMA failures, after which the plugin gives up. ">EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_STACK_ERRORS</a> consecutive transmission errors are encountered.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9bac004b6a26345b96b1d52872a7d566d13">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_FAILED</a> if the distribution process terminated prematurely because all targets have been declared unreachable.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9baa9539e05de899c6466b77ad9d0039398">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_TIMEOUT</a> if the server performed all the allowable broadcast rounds and there are still missing segments at one or more targets. The maximum allowable rounds are defined by <a class="el" href="group__ota__bootloader__server.html#ga006702d2a9934d15b6c76e36de90b470" title="The maximum number of image broadcast rounds the server performs before declaring an image distributi...">EMBER_AF_PLUGIN_OTA_BROADCAST_BOOTLOADER_SERVER_MAX_BROADCAST_ROUNDS</a>.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba4cd3869dfb2dcce38ee4958cbfaeca44">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_ABORTED</a> if the application aborted the current image distribution process. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga023947df221361a377a35df4f7c6c372"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga023947df221361a377a35df4f7c6c372">&#9670;&nbsp;</a></span>emberAfPluginOtaBootloaderServerInitiateImageDistribution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> emberAfPluginOtaBootloaderServerInitiateImageDistribution </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>imageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *&#160;</td>
          <td class="paramname"><em>targetList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>targetListLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate the image distribution process. The application can use the <a class="el" href="group__ota__bootloader__server.html#ga83bad82e6c7594384111b6d5a4033654" title="Retrieve the locally stored status of an individual target in the distribution list. The locally stored status can be updated by calling emberAfPluginBootloaderServerInitiateRequestTargetsStatus(). ">emberAfPluginBootloaderServerGetTargetStatus()</a> API at any time during the image distribution process to check the status of each target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageSize</td><td>The image size in bytes to be distributed.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageTag</td><td>A 1-byte tag that will be embedded in the server-to-client over-the-air messages. The application can use the image tag for versioning purposes and/or for distinguishing between different image types.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">targetList</td><td>An array of <a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce" title="IEEE 802.15.4 node ID. Also known as short address. ">EmberNodeId</a> indicating the node IDs of the target devices.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetListLength</td><td>The length of the passed <code>targetList</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__bootloader__common.html#gac36608b8807aaef08394730728c12a9b" title="OTA Broadcast Bootloader return status codes. ">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba2dcdf06668bf63d5d12c2e36fe883c98">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_SUCCESS</a> if the image distribution is successfully initiated. If this is the case, the <a class="el" href="group__ota__bootloader__server.html#ga708f7a80391ec05ba32c3870e5e619fa" title="A callback invoked on the OTA Bootloader Server when the image distribution process is terminated...">emberAfPluginOtaBootloaderServerImageDistributionCompleteCallback()</a> callback is invoked when the distribution process terminates.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9bafbd62ea9bfb27093f2a85d5a7e5a2585">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_INVALID_CALL</a> if some of the passed parameters are invalid.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9bac137e221ebaedef1a555dd7f3ee24852">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_BUSY</a> if the server is already performing another image distribution or some other over-the-air process.</li>
<li><a class="el" href="group__ota__bootloader__common.html#ggac36608b8807aaef08394730728c12a9ba858e503d1c8e788d54105e5336ad9d1c">EMBER_OTA_BROADCAST_BOOTLOADER_STATUS_NO_BUFFERS</a> if the server can't allocate memory from the heap to store the passed target list. (See <a class="el" href="group__memory__buffer.html">Memory Buffer</a> for details). </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
